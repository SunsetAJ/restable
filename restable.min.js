!function(a){a.fn.restable=function(b){function k(b){b.find("tr").each(function(){var c=a('<ul class="tr" />'),d=a(this).find("td"),e=b.prop("nodeName");e=e.toLowerCase(),j.find("."+e).append(c),n(d,"."+e)})}function l(b){b.find("tr").each(function(){var b=a('<ul class="tr" />');if(a(this).children().is("th")){var c=a(this).find("th");j.find(".thead").append(b),n(c,".thead")}else if(a(this).children().is("td")){var d=a(this).find("td");j.find(".tbody").append(b),n(d,".tbody")}})}function m(){""==c.caption_text?g=d.find("caption").text():""!=c.caption_text&&(g=c.caption_text);var b=a('<h2 class="caption">'+g+"</h2>");b.insertBefore("#restable-table-"+h+" .thead")}function n(b,c){var d=j.find(""+c+" .tr").length;b.each(function(){var b=a(this).text(),e=a('<li class="td">'+b+"</li>");j.find(""+c+" .tr:nth-of-type("+d+")").append(e)}),d++}var g,c=a.extend({caption:!1,caption_text:""},b),d=this,e=d.find("thead"),f=d.find("tbody"),h=a("body").find('[id*="restable-table-"]').length;h+=1;var i=a('<div id="restable-table-'+h+'" class="table"><div class="thead" /><div class="tbody" /></div>');i.insertAfter(d);var j=a("#restable-table-"+h);1==c.caption&&m(),e.length<1?l(d):(k(e),k(f))}}(jQuery);
