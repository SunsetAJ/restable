!function(a){a.fn.restable=function(b){function k(b){b.find("tr").each(function(){var c=a('<ul class="tr" />'),d=a(this).find("td"),e=b.prop("nodeName");e=e.toLowerCase(),j.find("."+e).append(c);var f=j.find("."+e+" .tr").length;d.each(function(){var b=a(this).text(),c=a('<li class="td">'+b+"</li>");j.find("."+e+" .tr:nth-of-type("+f+")").append(c)}),f++})}function m(){1==c.caption&&""==c.caption_text?g=d.find("caption").text():1==c.caption&&""!=c.caption_text&&(g=c.caption_text);var b=a('<h2 class="caption">'+g+"</h2>");b.insertBefore("#restable-table-"+h+" .thead")}var g,c=a.extend({caption:!1,caption_text:""},b),d=this,e=d.find("thead"),f=d.find("tbody"),h=a("body").find('[id*="restable-table-"]').length;h+=1;var i=a('<div id="restable-table-'+h+'" class="table"><div class="thead" /><div class="tbody" /></div>');i.insertAfter(d);var j=a("#restable-table-"+h);m(),k(e),k(f)}}(jQuery);
